.chatbot-fab-wrap {
  position: fixed;
  right: 22px;
  bottom: 22px;
  z-index: 1200;
}

.chatbot-fab {
  width: 58px;
  height: 58px;
  border-radius: 50%;
  border: 1px solid #2f3a54;
  background: linear-gradient(135deg, #1f6feb, #2f81f7 55%, #56a0ff);
  color: #ffffff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 14px 34px rgba(17, 84, 201, 0.45);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.chatbot-fab:hover {
  transform: translateY(-2px);
  box-shadow: 0 18px 40px rgba(17, 84, 201, 0.55);
}

.chatbot-panel {
  position: absolute;
  right: 0;
  bottom: 74px;
  width: min(420px, calc(100vw - 22px));
  max-width: calc(100vw - 12px);
  height: min(640px, calc(100vh - 100px));
  max-height: calc(100vh - 84px);
  background: #0f1524;
  border: 1px solid #263245;
  border-radius: 16px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 22px 56px rgba(0, 0, 0, 0.6);
}

.chatbot-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  padding: 12px;
  border-bottom: 1px solid #223044;
  background: linear-gradient(180deg, #121a2d 0%, #10192c 100%);
}

.chatbot-title {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #dbe7ff;
}

.chatbot-title small {
  color: #a0b3d1;
  display: block;
  font-size: 11px;
}

.chatbot-lang-select {
  background: #0f1524;
  border: 1px solid #2a3b57;
  color: #dbe7ff;
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 12px;
}

.chatbot-messages {
  flex: 1;
  overflow-y: auto;
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  background:
    radial-gradient(circle at 10% 0%, rgba(68, 106, 176, 0.2), transparent 40%),
    radial-gradient(circle at 90% 100%, rgba(43, 93, 166, 0.18), transparent 50%),
    #0d1422;
}

.message {
  display: flex;
  gap: 8px;
  align-items: flex-start;
}

.message-icon {
  color: #8db7ff;
  margin-top: 4px;
}

.message-content {
  max-width: 82%;
  border-radius: 12px;
  padding: 10px 12px;
  border: 1px solid #25344d;
  background: #121d31;
}

.user-message {
  justify-content: flex-end;
}

.user-message .message-content {
  background: #163461;
  border-color: #2b4b7f;
}

.user-message .message-icon {
  order: 2;
}

.message-text {
  color: #e9f0ff;
  line-height: 1.4;
  font-size: 14px;
  white-space: pre-wrap;
}

.message-time {
  margin-top: 6px;
  font-size: 11px;
  color: #9fb1ce;
}

.typing-indicator {
  display: inline-flex;
  gap: 4px;
}

.typing-indicator span {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #9dc0ff;
  animation: typing 1.1s infinite ease-in-out;
}

.typing-indicator span:nth-child(2) {
  animation-delay: 0.12s;
}

.typing-indicator span:nth-child(3) {
  animation-delay: 0.24s;
}

@keyframes typing {
  0%,
  100% {
    transform: translateY(0);
    opacity: 0.45;
  }
  50% {
    transform: translateY(-3px);
    opacity: 1;
  }
}

.quick-questions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 10px 12px;
  border-top: 1px solid #1f2f44;
  background: #0f1729;
}

.quick-question-btn {
  border: 1px solid #2c4468;
  background: #16233c;
  color: #d8e7ff;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  cursor: pointer;
}

.quick-question-btn:hover {
  background: #1f3358;
}

.chatbot-input {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 8px;
  padding: 10px 12px 12px;
  border-top: 1px solid #223247;
  background: #10192d;
}

.voice-btn,
.chatbot-input button {
  border: 1px solid #2c4468;
  background: #1a2a48;
  color: #e6f0ff;
  border-radius: 10px;
  width: 40px;
  height: 40px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.voice-btn.listening {
  border-color: #f14f68;
  background: #5b1c2a;
}

.chatbot-input button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.chatbot-input textarea {
  resize: none;
  border-radius: 10px;
  border: 1px solid #2b3e5d;
  background: #0f1627;
  color: #eaf2ff;
  padding: 9px 10px;
  line-height: 1.35;
  font-size: 14px;
}

@media (max-width: 640px) {
  .chatbot-fab {
    width: 54px;
    height: 54px;
  }

  .chatbot-fab-wrap {
    right: 14px;
    bottom: 14px;
  }

  .chatbot-panel {
    right: -2px;
    bottom: 68px;
    width: calc(100vw - 20px);
    height: min(74vh, 620px);
  }
}


@media (prefers-color-scheme: light) {
  .chatbot-panel {
    background: #f7fbff;
    border-color: #d7e2ef;
    box-shadow: 0 18px 40px rgba(25, 51, 86, 0.18);
  }

  .chatbot-header {
    background: linear-gradient(180deg, #eef4fc 0%, #e8f0fb 100%);
    border-bottom-color: #d3dfed;
  }

  .chatbot-title,
  .message-text {
    color: #1a2b45;
  }

  .chatbot-title small,
  .message-time {
    color: #5e7390;
  }

  .chatbot-messages {
    background: #f4f8fe;
  }

  .message-content {
    background: #ffffff;
    border-color: #dbe5f1;
  }

  .user-message .message-content {
    background: #eaf2ff;
    border-color: #cfdff8;
  }

  .quick-questions,
  .chatbot-input {
    background: #edf3fb;
    border-top-color: #d5e0ee;
  }

  .quick-question-btn,
  .voice-btn,
  .chatbot-input button {
    background: #f8fbff;
    border-color: #cad7ea;
    color: #22395c;
  }


  .chatbot-lang-select,
  .chatbot-input textarea {
    background: #ffffff;
    border-color: #cad7ea;
    color: #22395c;
  }

  .message-icon {
    color: #4f6f9f;
  }

}
